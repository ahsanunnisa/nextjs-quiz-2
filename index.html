<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">       
    <title>Document</title>
</head>
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
  <link rel="stylesheet" href="styles.css"/>
  <script type="text/babel">
    function App() {
      
      const nameLabelRef = React.useRef();
      const emailLabelRef = React.useRef();
      const phoneLabelRef = React.useRef();
      const companyLabelRef = React.useRef();
      const nameRef = React.useRef();
      const emailRef = React.useRef();
      const phoneRef = React.useRef();
      const companyRef = React.useRef();
      const nameErrRef = React.useRef();
      const emailErrRef = React.useRef();
      const phoneErrRef = React.useRef();
      const companyErrRef = React.useRef();
      const [forminputs,setFormInputs] = React.useState({
        name: '',
        email: '',
        phone: '',
        company: '',
        service: 'development',
        budget: '50000'
      })

      const [errors,setErrors] = React.useState({
        name: 'Name is required',
        email: 'Email is required',
        phone: 'Phone number is required',
        company: 'Company is required'
      })
      
      function handleChange(event){
        setFormInputs({...forminputs,
          [event.target.name]:event.target.value
        })
      }

      const handleServiceDevelopment = event => {
        setFormInputs({...forminputs,
          service:'development'
        })    
      }
      const handleServiceWebDesign = event => {
        setFormInputs({...forminputs,
          service:'webdesign'
        })       
      }
      const handleServiceMarketing = event => {
        setFormInputs({...forminputs,
          service:'marketing'
        })      
      }
      const handleServiceOther = event => {
        setFormInputs({...forminputs,
          service:'other'
        })     
      }

      const handleBudget5000 = event => {
        setFormInputs({...forminputs,
          budget:'5000'
        })        
      }
      const handleBudget10000 = event => {
        setFormInputs({...forminputs,
          budget:'10000'
        })
      }
      const handleBudget20000 = event => {
        setFormInputs({...forminputs,
          budget:'20000'
        })
      }
      const handleBudget50000 = event => {
        setFormInputs({...forminputs,
          budget:'50000'
        })
      }


      function handleNameBlur(event){
        forminputs.name != ''? setErrors({...errors, name:null}) : setErrors({...errors, name:'Name is required'})
        
      }
      

      const email_pattern = new RegExp('^[a-zA-Z0-9](\.?[a-zA-Z0-9]){0,}@gmail\.com$')
      function handleEmailBlur(event){
        if (forminputs.email != '') {
          if (email_pattern.test(forminputs.email)) {
            setErrors({...errors, email:null})
          } else setErrors({...errors, email:'Email is invalid'})
        } else setErrors({...errors, email:'Email is required'})
      }
      
      const phone_pattern = new RegExp('^08[0-9]{6,10}$')
      function handlePhnumberBlur(event){
        if (forminputs.phone != '') {
          if (phone_pattern.test(forminputs.phone)) {
            setErrors({...errors, phone:null})
          } else setErrors({...errors, phone:'Phone number is invalid'})
        } else setErrors({...errors, phone:'Phone number is required'})
      }
    
      function handleCompanyBlur(event){
        forminputs.company != ''? setErrors({...errors, company:null}) : setErrors({...errors, company:'Company is required'})
      }
      
      const handleClickSubmit = event => {
        alert(JSON.stringify(forminputs))
      }
      

      const [page, setPage] = React.useState(1)
      
      const validateInput = () => {
        if (page==1){
          nameLabelRef.current.classList='label1'  
          emailLabelRef.current.classList='label1'
          phoneLabelRef.current.classList='label1'
          companyLabelRef.current.classList='label1'
          nameErrRef.current.classList='hidden-error'  
          emailErrRef.current.classList='hidden-error' 
          phoneErrRef.current.classList='hidden-error' 
          companyErrRef.current.classList='hidden-error'      
          if (errors.name) {
            nameRef.current.focus()            
            nameErrRef.current.classList='error1'            
            nameLabelRef.current.classList='label1-error' 
          } else if (errors.email) {
            emailRef.current.focus()  
            emailErrRef.current.classList='error1'  
            emailLabelRef.current.classList='label1-error' 
          } else if (errors.phone) {
            phoneRef.current.focus()            
            phoneErrRef.current.classList='error1'  
            phoneLabelRef.current.classList='label1-error' 
          } else if (errors.company) {
            companyRef.current.focus()                  
            companyErrRef.current.classList='error1'  
            companyLabelRef.current.classList='label1-error' 
          } else {
            setPage(+page+1)
          }
        } else setPage(+page+1)
      }
      
      const handleClickPrevious = event => setPage(+page-1)
     



      return (
        <div className='main'>
          <div>
            <div className='heading'>Get a project quote</div>
            <div className='headingdesc'>Please fill the form below to receive a quote for your project. Feel free to add as much detail as needed.</div>

              <div className='white-box'>
                


                <div className='page' style={{display: page==1 ? 'block' : 'none' }}>
                  <img className='progress-bar' src='Assets/progress-bar-1.png'/>
                  <div className='sep-line'></div>
                  <div className='title'>Contact details</div>
                  <div className='desc'>Lorem ipsum dolor sit amet consectetur adipisc.</div>
                  <form>    
                    <div className='formpage'>            
                      <div className='question'>
                        <label className={'label1'} htmlFor='nameinput' ref={nameLabelRef}>Name</label>
                        <input className='input1' id='nameinput' name='name' ref={nameRef} type='text' placeholder='Name' onChange={handleChange} onBlur={handleNameBlur} />
                        <div className='hidden-error' ref={nameErrRef}>{errors.name}</div>
                      </div>
                      <div className='question'>
                        <label className={'label1'} htmlFor='emailinput' ref={emailLabelRef}>Email</label>
                        <input className='input1' id='emailinput' name='email' ref={emailRef} type='text' placeholder='Email' onChange={handleChange} onBlur={handleEmailBlur} />
                        <div className='hidden-error' ref={emailErrRef}>{errors.email}</div>
                      </div>
                      <div className='question'>
                        <label className={'label1'} htmlFor='phoneinput' ref={phoneLabelRef}>Phone Number</label>
                        <input className='input1' id='phoneinput' name='phone' ref={phoneRef} type='text' placeholder='Phone Number'onChange={handleChange} onBlur={handlePhnumberBlur} />
                        <div className='hidden-error' ref={phoneErrRef}>{errors.phone}</div>
                      </div>
                      <div className='question'>
                        <label className={'label1'} htmlFor='companyinput' ref={companyLabelRef}>Company</label>
                        <input className='input1' id='companyinput' name='company' ref={companyRef} type='text' placeholder='Company' onChange={handleChange} onBlur={handleCompanyBlur}/>
                        <div className='hidden-error' ref={companyErrRef}>{errors.company}</div>
                      </div>
                    </div>
                  </form>  
                  
                </div>
                <div className='page' style={{display: page==2 ? 'block' : 'none' }}>
                  <img className='progress-bar' src='Assets/progress-bar-2.png'/>
                  <div className='sep-line'></div>
                  <div className='title'>Our services</div>
                  <div className='desc'>Please select which service you are interested in.</div>
                  <form >
                    <div className='formpage'>             
                      <div className={forminputs.service === 'development'?'button-selected':'button-unselected'} onClick={handleServiceDevelopment}>
                        <div className='dev-base'>
                          <img className='dev-1' src='Assets/development_1.png'/>
                          <img className='dev-2' src='Assets/development_2.png'/>
                          <img className='dev-3' src='Assets/development_3.png'/>
                        </div>
                        <div className='srvtext'>Development</div>
                      </div>
                      <div type='button' className={forminputs.service === 'webdesign'?'button-selected':'button-unselected'} onClick={handleServiceWebDesign}>
                        <div className='dev-base'>
                          <img className='dev-1' src='Assets/webdesign_1.png'/>
                          <img className='dev-2' src='Assets/webdesign_2.png'/>
                          <img className='dev-3' src='Assets/webdesign_3.png'/>
                        </div>
                        
                        <div className='srvtext'>Web Design</div>
                      </div>
                      <div type='button' className={forminputs.service === 'marketing'?'button-selected':'button-unselected'} onClick={handleServiceMarketing}>
                        <div className='dev-base'>
                          <img className='dev-1' src='Assets/marketing_1.png'/>
                          <img className='dev-2' src='Assets/marketing_2.png'/>
                          <img className='dev-3' src='Assets/marketing_3.png'/>
                        </div>
                        
                        <div className='srvtext'>Marketing</div>
                      </div>
                      <div type='button' className={forminputs.service === 'other'?'button-selected':'button-unselected'} onClick={handleServiceOther}>
                        <div className='dev-base'>
                          <img className='dev-1' src='Assets/other_1.png'/>
                          <img className='dev-2' src='Assets/other_2.png'/>
                          <img className='other-3' src='Assets/other_3.png'/>
                        </div>
                        
                        <div className='srvtext'>Other</div>
                      </div>
                    
                    </div>
                  </form>
                </div>
                
                <div className='page' style={{display: page==3 ? 'block' : 'none' }}>
                  <img className='progress-bar' src='Assets/progress-bar-3.png'/>
                  <div className='sep-line'></div>
                  <div className='title'>What's your project budget?</div>
                  <div className='desc'>Please select the project budget range you have in mind.</div>
                    <div className='formpage'>
                                   
                      <div className={forminputs.budget === '5000'?'option button-selected':'option button-unselected'} onClick={handleBudget5000}>
                        <span className='option'><img className={forminputs.budget === '5000'?'button-selected-img':'button-unselected-img'}/>
                        <span className='budgettext'>$5.000 - $10.000</span></span>
                      </div>
                      <div className={forminputs.budget === '10000'?'option button-selected':'option button-unselected'} onClick={handleBudget10000}>
                        <span className='option'><img className={forminputs.budget === '10000'?'button-selected-img':'button-unselected-img'}/>
                        <span className='budgettext'>$10.000 - $20.000</span></span>
                      </div>
                      <div className={forminputs.budget === '20000'?'option button-selected':'option button-unselected'} onClick={handleBudget20000}>
                        <span className='option'><img className={forminputs.budget === '20000'?'button-selected-img':'button-unselected-img'}/>
                        <span className='budgettext'>$20.000 - $50.000</span></span>
                      </div>
                      <div className={forminputs.budget === '50000'?'option button-selected':'option button-unselected'} onClick={handleBudget50000}>
                        <span className='option'><img className={forminputs.budget === '50000'?'button-selected-img':'button-unselected-img'}/>
                        <span className='budgettext'>$50.000 +</span></span>
                      </div>
                    </div>
                </div>
                <div className='page' style={{display: page==4 ? 'block' : 'none' }}>
                  <img className='progress-bar' src='Assets/progress-bar-4.png'/>
                  <div className='sep-line'></div>
                  <div className='submit-page'>
                    <img src='Assets/submit.png'/>
                    <div className='title'>Submit your quote request</div>
                    <div className='desc-submit'>Please review all the information you previously typed in the past steps, and if all is okay, submit your message to receive a project quote in 24 - 48 hours.</div>
                    <button type='button' className='submit-button' onClick={handleClickSubmit}>Submit</button>            
                  </div>
                </div>

              </div>

              <form>
                <div id='prevnext'>
                  <button className='previousbutton' type='button' onClick={handleClickPrevious} style={{display: page>1 ? 'block' : 'none' }}>Previous Step</button>            
                  <button className='nextbutton' type='button' onClick={validateInput} style={{display: page<4 ? 'block' : 'none' }}>Next Step</button>
                </div>
              </form>
            </div>
        </div>
      
      )
    }

    ReactDOM.render(<App />, document.getElementById('root'))
  </script>
</body>

</html>